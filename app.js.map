{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar overlay = document.querySelector('.contribute.overlay');\nvar i = 0;\n\nfunction showSearch (e) {\n  e.preventDefault();\n  overlay.classList.remove('hidden');\n}\n\nfunction hideSearch (e) {\n  e.preventDefault();\n  overlay.classList.add('hidden');\n}\n\nfunction potentiallyHideSearch (e) {\n  // Esc key is 27.\n  if (e.key === 'Escape' || e.keyCode === 27) {\n    hideSearch(e);\n  }\n}\n\nvar entryPoints = document.querySelectorAll('.contribute-button');\nfor (i = 0; i < entryPoints.length; i++) {\n  var entry = entryPoints[i];\n  entry.addEventListener('click', showSearch, false);\n}\n\nvar exitPoints = document.querySelectorAll('.contribute .back');\nfor (i = 0; i < exitPoints.length; i++) {\n  var exit = exitPoints[i];\n  exit.addEventListener('click', hideSearch, false);\n}\n\ndocument.addEventListener('keyup', potentiallyHideSearch, false);\n\n},{}],2:[function(require,module,exports){\nrequire('./search');\nrequire('./contribute');\n\n},{\"./contribute\":1,\"./search\":3}],3:[function(require,module,exports){\nvar search = document.getElementById('search');\nvar cards = document.getElementsByClassName('card');\nvar searchableCardData = [];\n\nfor (var i = 0; i < cards.length; i++) {\n  var card = cards[i];\n  var titleEl = card.querySelector('h2');\n  if (!titleEl) {\n    continue;\n  }\n  var searchContext = {\n    actorNames: [],\n    card: card,\n    title: titleEl.innerHTML,\n    year: card.querySelector('.year').innerHTML\n  };\n  var actors = card.querySelectorAll('.actor .name');\n  for (var j = 0; j < actors.length; j++) {\n    searchContext.actorNames.push(actors.item(j).innerHTML);\n  }\n  searchableCardData.push(searchContext);\n}\n\nvar raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame || window.setTimeout;\nfunction doSearch (el) {\n  var searchTerm = new RegExp(el.target.value, 'i');\n  var show = [];\n  var hide = [];\n\n  for (var i = 0; i < searchableCardData.length; i++) {\n    var data = searchableCardData[i];\n    var hasMatch = false;\n    if (searchTerm.test(data.title)) {\n      hasMatch = true;\n    } else if (searchTerm.test(data.year)) {\n      hasMatch = true;\n    } else {\n      for (var j = 0; j < data.actorNames.length; j++) {\n        if (searchTerm.test(data.actorNames[j])) {\n          hasMatch = true;\n          j = data.actorNames.length;\n        }\n      }\n    }\n\n    if (hasMatch) {\n      show.push(data.card);\n    } else {\n      hide.push(data.card);\n    }\n  }\n\n  raf(function () {\n    var i;\n    for (i = 0; i < show.length; i++) {\n      show[i].classList.remove('hidden');\n    }\n    for (i = 0; i < hide.length; i++) {\n      hide[i].classList.add('hidden');\n    }\n  });\n}\n\nsearch.addEventListener('keyup', doSearch, false);\n\nfunction doClear () {\n  search.value = '';\n  for (var i = 0; i < searchableCardData.length; i++) {\n    searchableCardData[i].card.classList.remove('hidden');\n  }\n}\n\nvar button = document.getElementsByClassName('clear')[0];\nbutton.addEventListener('click', doClear, false);\n\n},{}]},{},[2]);\n"],"file":"app.js","sourceRoot":"/source/"}